print("=== TEST 1: Closure capture ===")
funcs := []
for i in 0..3 {
    push(funcs, fn(){ print(i) })
}
each(funcs, fn(f){ f() })

print("=== TEST 2: Parallel + push ===")
nums := []
parallel i in 0..5 workers=2 {
    push(nums, i)
}
print(sort(nums))
print(len(nums))

print("=== TEST 4: Pipe error propagation ===")
x := fs.read("missing.txt") |> json.parse() or -1
print(x)

print("=== TEST 5: Parser precedence ===")
print(1 + 2 * 3 == 7 && !false || 0)
